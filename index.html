<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Music generating AI</title>

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/index.css" rel="stylesheet">
    <link href="css/piano.css" rel="stylesheet">
    <link href="css/navbar.css" rel="stylesheet">
    <link href="css/sidebar.css" rel="stylesheet">

    <!-- Set global variables -->
    <script>
      const noteSequence = ["A", "Bb", "B", "C", "C#", "D", "Eb", "E", "F", "F#", "G", "Ab"]
      let number = 0;
      let notes = []
      for (i=0; i<88; i++) {
        note = noteSequence[i%noteSequence.length]
        if (note == "C") {
          number++;
        }
        notes.push(note + number.toString())
      }

      const precision = 0.0625;
      const gridWidth = 35;
      let noteOffset = 32; // If 0, the top row is the highest note on the piano
      let numRows = 25;
      let maxNumRows = 44;
      let numCols;
      
    </script>

    <script src="js/out/model.js"></script>
    <script src="js/out/music-box.js"></script>
    <script src="js/out/parse.js"></script>
    <script src="js/out/navbar.js"></script>
    
  </head>

  <body onload="onDocLoad()">
    <div id="loading-overlay">
      <div id="loading-text">
        loading...
      </div>
    </div>

    <nav id="navbar">
      <div id="size-slider-container">
        <img id="zoom-out-icon" src="img/zoom-out.png" onclick="updateSlider(-1);">
        <input type="range" min="40" max="80" value="63" class="slider" id="size-slider" oninput="sliderChange(this.value);" onchange="sliderChange(this.value);">
        <img id="zoom-in-icon" src="img/zoom-in.png" onclick="updateSlider(1);">
      </div>
  
      <button id="play-btn" onclick="playBox()"></button>
      <button id="generate-btn" onclick="generate()">Generate</button>
    </nav>
    <div id="music-box">
      <div id="piano">
      </div>
      <div id="editor" oncontextmenu="return false;">
      </div>
      <div id="sidebar">
        <br />
        Note Temp: <div id="note-temp-text">0.8</div>
        <input type="range" min="0.1" max="2.0" value="0.8" step="0.01" class="slider" id="note-temp-slider" oninput='tempChange(this.value, "note-temp-text")' onchange='tempChange(this.value, "note-temp-text")'>
        <br />
        Time Temp: <div id="time-temp-text">0.8</div>
        <input type="range" min="0.1" max="2.0" value="0.8" step="0.01" class="slider" id="time-temp-slider" oninput='tempChange(this.value, "time-temp-text")' onchange='tempChange(this.value, "time-temp-text")'>
        <br />
        Length Temp: <div id="length-temp-text">0.8</div>
        <input type="range" min="0.1" max="2.0" value="0.8" step="0.01" class="slider" id="length-temp-slider" oninput='tempChange(this.value, "length-temp-text")' onchange='tempChange(this.value, "length-temp-text")'>
        <br />
      </div>
    </div>

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>